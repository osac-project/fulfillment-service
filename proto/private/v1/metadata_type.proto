//
// Copyright (c) 2025 Red Hat, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with
// the License. You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
// an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
// specific language governing permissions and limitations under the License.
//

syntax = "proto3";

package private.v1;

import "google/protobuf/timestamp.proto";

// Metadata common to all kinds of objects.
message Metadata {
  // Time of creation of the object.
  google.protobuf.Timestamp creation_timestamp = 1;

  // Time of deletion of the object.
  google.protobuf.Timestamp deletion_timestamp = 2;

  // Finalizers indicate tasks that need to be completed before the object can be completely deleted. When the object
  // has been deleted and this list is empty the system will automatically archive the object.
  repeated string finalizers = 3;

  // Creators contains the identifiers of the users and groups that created the object.
  repeated string creators = 4;

  // Tenants contains the identifiers of the tenants that the object belongs to.
  repeated string tenants = 5;

  // Human friendly name of the object.
  //
  // Has the same restrictions than DNS labels, as described in RFC 1035:
  //
  // - Must be between 1 and 63 characters long.
  // - Must only contain letters (a-z), digits (0-9) and hyphens (-).
  // - It isn't case sensitive.
  //
  // It is optional and not unique, so multiple objecs, even created by the same user or tenant, can have the same name.
  string name = 6;

  // Labels contains key-value pairs for organizing and selecting objects.
  //
  // Keys consist of an optional prefix and a name separated by '/':
  //
  // - Prefix is a DNS subdomain (RFC 1035) and must be between 1 and 253 characters long.
  // - Name must be between 1 and 63 characters long, start and end with an alphanumeric character, and contain only
  //   letters (a-z), digits (0-9), '-' '_' or '.'.
  //
  // Values are optional; when present they must be between 0 and 63 characters long and follow the same character
  // rules as names.
  //
  // Labels are indexed and searchable.
  map<string, string> labels = 7;

  // Annotations contains arbitrary metadata for objects.
  //
  // Keys follow the same rules as label keys, including the optional DNS subdomain prefix and the 1-63 character name
  // restrictions. Values can be any string.
  map<string, string> annotations = 8;
}
